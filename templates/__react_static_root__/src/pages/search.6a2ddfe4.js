(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{137:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var a=n(0),r=n.n(a),o=n(249),c=n(251),s=n(252),l=n(247),i=n(240),u=n(254),p=n(64),f=l.a.Dragger;function d(e){var t=e.url?e.url:"https://34.71.95.100/backend/mainSearch";return r.a.createElement(f,{name:"file",action:t,onChange:function(e){var t=e.file.status;"uploading"!==t&&(console.log("We are redirecting",e.file.response),sessionStorage.setItem("search",JSON.stringify(e.file.response)),Object(p.navigate)("/search-result")),"done"===t?i.b.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&i.b.error("".concat(e.file.name," file upload failed."))},data:{token:"yo"}},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(u.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"))}var h=n(92),m=n(91),k=n.n(m),g=n(51),b=n.n(g),v=n(52),w=n.n(v),y=n(50),E=n.n(y),S=n(95),x=n.n(S),T=n(239),N=n.n(T),C=function(){function e(){b()(this,e),this.backend="https://34.71.95.100/backend"}var t,n;return w()(e,[{key:"retrieveToken",value:(n=k()(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new N.a).append("user","what"),t.append("token","yo"),e.next=5,x.a.post(this.backend+"/modifyTokens",t,{headers:{"content-type":"multipart/form"}});case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"postText",value:(t=k()(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.retrieveToken(),e.next=3,x.a.get(this.backend+"/textSearch?token=yo&query="+t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),J=o.a.Search;function O(){(new C).retrieveToken().then((function(e){console.log(e)})).catch((function(e){console.log(e)}));return r.a.createElement(h.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{span:24},r.a.createElement(J,{placeholder:"input search text",allowClear:!0,enterButton:"Search",size:"large",onSearch:function(e){}}))),r.a.createElement(c.a,null,r.a.createElement(s.a,{span:24},r.a.createElement(d,{url:"https://34.71.95.100/backend/mainSearch"}))))}}}]);